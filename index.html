<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sumativa S3</title>
    <script defer src="app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
    </nav>
    <main>
        <h1>
            Nueva ficha m√©dica
        </h1>
        <div class="form">
            <div class="form__body">
                <label class="field" for="rut">RUT:
                    <div class="field__detail">
                        <input type="text" id="rut" name="rut" placeholder="12.345.678-9" onblur="validarRut()"
                            onkeyup="validarRut()">
                        <span id="errorRut" class="error"></span>
                    </div>
                </label>
                <label class="field" for="nombre">Nombres:
                    <div class="field__detail">
                        <input type="text" id="nombre" name="nombre"
                            onblur="validarCampoTexto('nombre', 'errorNombre', 'Por favor, ingrese su nombre.')"
                            onkeyup="validarCampoTexto('nombre', 'errorNombre', 'Por favor, ingrese su nombre.')">
                        <span id="errorNombre" class="error"></span>
                    </div>
                </label>
                <label class="field" for="apellido">Apellidos:
                    <div class="field__detail">
                        <input type="text" id="apellido" name="apellido"
                            onblur="validarCampoTexto('apellido', 'errorApellido', 'Por favor, ingrese su apellido.')"
                            onkeyup="validarCampoTexto('apellido', 'errorApellido', 'Por favor, ingrese su apellido.')">
                        <span id="errorApellido" class="error"></span>
                    </div>
                </label>
                <label class="field" for="direccion">Direcci√≥n:
                    <div class="field__detail">
                        <input type="text" id="direccion" name="direccion"
                            onblur="validarCampoTexto('direccion', 'errorDireccion', 'Por favor, ingrese su direcci√≥n.')"
                            onkeyup="validarCampoTexto('direccion', 'errorDireccion', 'Por favor, ingrese su direcci√≥n.')">
                        <span id="errorDireccion" class="error"></span>
                    </div>
                </label>
                <label class="field" for="ciudad">Ciudad:
                    <div class="field__detail">
                        <input type="text" id="ciudad" name="ciudad"
                            onblur="validarCampoTexto('ciudad', 'errorCiudad', 'Por favor, ingrese su ciudad.')"
                            onkeyup="validarCampoTexto('ciudad', 'errorCiudad', 'Por favor, ingrese su ciudad.')">
                        <span id="errorCiudad" class="error"></span>
                    </div>
                </label>
                <label class="field" for="telefono">Tel√©fono:
                    <div class="field__detail">
                        <input type="text" id="telefono" name="telefono" onblur="validarTelefono()"
                            onkeyup="validarTelefono()">
                        <span id="errorTelefono" class="error"></span>
                    </div>
                </label>
                <label class="field" for="email">Email:
                    <div class="field__detail">
                        <input type="email" id="email" name="email" onblur="validarEmail()" onkeyup="validarEmail()">
                        <span id="errorEmail" class="error"></span>
                    </div>
                </label>
                <label class="field" for="fechaNacimiento">Fecha de Nacimiento:
                    <div class="field__detail">
                        <input type="date" id="fechaNacimiento" name="fechaNacimiento" onblur="validarFechaNacimiento()"
                            onkeyup="validarFechaNacimiento()">
                        <span id="errorFechaNacimiento" class="error"></span>
                    </div>
                </label>
                <label class="field" for="estadoCivil">Estado Civil:
                    <div class="field__detail">
                        <select id="estadoCivil" name="estadoCivil" onchange="validarEstadoCivil()">
                            <option value="">Seleccione...</option>
                            <option value="soltero">Soltero</option>
                            <option value="casado">Casado</option>
                            <option value="divorciado">Divorciado</option>
                            <option value="viudo">Viudo</option>
                        </select>
                        <span id="errorEstadoCivil" class="error"></span>
                    </div>
                </label>
                <label class="field" for="comentario">
                    Comentarios
                    <div class="field__detail">
                        <input type="text" id="comentario" name="comentario"
                            onblur="validarCampoTexto('comentario', 'errorComentario', 'Por favor, ingrese un comentario.')"
                            onkeyup="validarCampoTexto('comentario', 'errorComentario', 'Por favor, ingrese un comentario.')">
                        <span id="errorComentario" class="error"></span>
                    </div>
                </label>
                <div style="display: flex; justify-content: space-evenly; margin: 2em;">
                    <button onclick="limpiarFormulario()" class="btn_clean">Limpiar</button>
                    <button id="botonenviar" onclick="registrarFicha()" class="btn_inactive" style="width: 50%;">
                        Guardar
                    </button>
                </div>
            </div>
        </div>

        <div id="modalSobre" class="noshow_modal">
            <div style="width: 300px; background-color: white; border-radius: 1em; box-shadow: 1px 1px 9px #807d7f;">
                <div style="width: 100%; text-align: end;">
                    <p style="margin: 1em; cursor: pointer;">‚ùå</p>
                </div>
                <div>Usuario ya existe. ¬øDesea sobreescribir?</div>
                <div style="margin: 2em 0; width: 100%; display: flex; justify-content: space-evenly;">
                    <button onclick="cancelaAccion()" style="padding: 0.5em 3em;
                    border-radius: 1em;
                    border: none;
                    background-color: #f71f69;
                    color: white;
                    font-weight: bold;">No</button>
                    <button onclick="sobreescribirFicha()" style="padding: 0.5em 3em;
                    border-radius: 1em;
                    border: none;
                    background-color: #32caca;
                    color: white;
                    font-weight: bold;">Si</button>
                </div>
            </div>
        </div>

        <hr style="border: 1px solid aquamarine; width: 50%;">

        <div>
            <div>
                <h2>Buscador pacientes registrados</h2>
                <div>
                    Ingrese su b√∫squeda: <input type="text" name="" id="" onkeyup="buscarPersona(value)">
                </div>
            </div>
            <div>
                <h3>Coincidencias b√∫squeda:</h3>
                <div id="listaEncontrados"></div>
            </div>
        </div>
    </main>
    <footer>
        powered by code ü§ñ
    </footer>

</body>

</html>